{% extends "base.html" %}
{% block title %}Configurações do Administrador{% endblock %}

{% block content %}
<a href="{{ url_for('menu') }}" class="btn btn-outline-primary mb-3">
    <i class="bi bi-arrow-left"></i> Voltar ao Menu
</a>
<div class="card shadow-sm">
    <div class="card-header bg-primary text-white">
        <h2 class="mb-0">
            <i class="bi bi-gear-fill"></i> Configurações do Administrador
        </h2>
    </div>
    <div class="card-body">
        <form method="POST" action="{{ url_for('admin_settings') }}">
            <h4 class="mb-3">Configuração de Pleitos Atrasados</h4>
            <div class="mb-3">
                <label for="data_limite_pleitos_atrasados" class="form-label">
                    Data Limite para Considerar Pleitos Atrasados:
                </label>
                <input type="date" class="form-control" id="data_limite_pleitos_atrasados"
                       name="data_limite_pleitos_atrasados"
                       value="{{ data_limite_atraso }}" required>
                <div class="form-text">
                    Pleitos com Data de Pendência **anterior ou igual** a esta data serão contados como atrasados.
                </div>
            </div>

            {# NOVO: Configuração para Clientes Excluídos #}
            <h4 class="mb-3 mt-4">Clientes Excluídos da Análise</h4>
            <div class="mb-3">
                <label for="clientes_excluidos_input" class="form-label">
                    Clientes a Excluir (separados por vírgula):
                </label>
                <textarea class="form-control" id="clientes_excluidos_input"
                          name="clientes_excluidos_input" rows="3"
                          placeholder="Ex: CLIENTE A, CLIENTE B, CLIENTE C">{{ clientes_excluidos_str }}</textarea>
                <div class="form-text">
                    Nomes completos dos clientes que devem ser ignorados na análise de pleitos. Separe por vírgula.
                </div>
            </div>

            {# NOVO: Configuração para Produtos Excluídos #}
            <h4 class="mb-3 mt-4">Produtos Excluídos da Análise</h4>
            <div class="mb-3">
                <label for="produtos_excluidos_input" class="form-label">
                    Produtos a Excluir (separados por vírgula):
                </label>
                <textarea class="form-control" id="produtos_excluidos_input"
                          name="produtos_excluidos_input" rows="3"
                          placeholder="Ex: TAXA DE SERVICO, PRODUTO OBSOLETO">{{ produtos_excluidos_str }}</textarea>
                <div class="form-text">
                    Partes do nome do produto (ex: "taxa") que devem ser ignoradas na análise de pleitos. Separe por vírgula.
                </div>
            </div>

            <button type="submit" class="btn btn-primary mt-3">
                <i class="bi bi-save"></i> Salvar Configurações
            </button>
        </form>
    </div>
</div>
{% endblock %}